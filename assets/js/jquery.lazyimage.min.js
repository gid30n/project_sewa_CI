!function(a,b){function d(a){var b={top:c.scrollTop(),left:c.scrollLeft()};b.right=b.left+c.width(),b.bottom=b.top+c.height();var d=a[0].getBoundingClientRect();return d.right=d.left+a.outerWidth(),d.bottom=d.top+a.outerHeight(),!(b.right<d.left||b.left>d.right||b.bottom<d.top||b.top>d.bottom)&&a.is(":visible")}var c=a(b);a.LazyImage=function(b){this.$img=a(b),this.loading=!1,this.originalSrc=this.$img.data("src"),this.fadeIn=this.$img.data("fade-in"),this.init()},a.LazyImage.prototype={init:function(){var b=this,c=this.fadeIn;b.$fakeImg=a("<img />").on("load",function(){b.$img.removeAttr("style").css("opacity",0).attr("src",a(this).attr("src")),c?b.$img.animate({opacity:1}):b.$img.css({opacity:1}),b.$img.addClass("lazy-loaded")}).on("load error",function(a){b.loading=!1,b.$img.trigger("lazyLoaded",[b,a.type])})},loadImage:function(){this.$fakeImg.attr("src",this.originalSrc)},destroy:function(){a(this).data("plugin_lazyImage",void 0)}},a.fn.lazyImage=function(){function e(){a.each(b,function(){d(this.$img)&&!this.loading&&(this.loading=!0,this.loadImage())}),b.length<=0&&c.off("load scroll resize",e)}var b=this.filter("img").map(function(){var b=new a.LazyImage(this);return a(this).data("plugin_lazyImage",b),b});return a(this).on("lazyLoaded",function(a,c){b=b.filter(function(){return this.originalSrc!=c.originalSrc})}),c.on("load scroll resize",e),this}}(jQuery,window);